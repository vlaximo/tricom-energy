<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Calculadora Solar – TRICOM ENERGY</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
  :root {
    --color-primary: #F15A29;
    --color-gray: #C0C0C0;
    --color-bg: #FFFFFF;
    --color-text: #1F2933;
    --color-text-soft: #6B7280;
    --color-dark: #111827;
    --color-bg-soft: #FFF5EF; /* Usado en la calculadora */
  }

  * {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
  }

  body {
    font-family: system-ui, -apple-system, "Segoe UI", sans-serif;
    background: var(--color-bg);
    color: var(--color-text);
    line-height: 1.5;
  }

  img {
    max-width: 100%;
    display: block;
  }

  a {
    text-decoration: none;
    color: inherit;
  }

  .container {
    max-width: 1120px;
    margin: 0 auto;
    padding: 0 1.5rem;
  }

  /* ========= HEADER (Estilos de index.html) ========= */

  header {
    position: sticky;
    top: 0;
    z-index: 50;
    background: rgba(255, 255, 255, 0.96);
    backdrop-filter: blur(8px);
    border-bottom: 1px solid #E5E7EB;
  }

  .nav {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 0.9rem 0;
    gap: 1rem;
    position: relative;
  }

  .nav img {
    height: 60px;
    object-fit: contain;
  }

  .nav-links {
    /* Aseguramos que en escritorio sea flex para que se vea */
    display: flex;
    align-items: center;
    gap: 1rem;
    font-size: 0.95rem;
  }

  .nav-links a {
    padding: 0.4rem 0.7rem;
    border-radius: 999px;
    color: var(--color-text-soft);
    font-weight: 500;
  }

  .nav-links a:hover {
    background: rgba(241, 90, 41, 0.08);
    color: var(--color-primary);
  }

  .nav-links a.active {
    color: var(--color-primary);
    font-weight: 600;
  }

  .nav-cta {
    padding: 0.45rem 0.95rem;
    border-radius: 999px;
    background: var(--color-primary);
    color: #ffffff !important;
    font-weight: 600;
    box-shadow: 0 10px 18px rgba(241, 90, 41, 0.25);
  }

  /* Botón hamburguesa */

  .menu-toggle {
    /* Por defecto no se muestra en desktop */
    display: none;
    background: none;
    border: none;
    cursor: pointer;
    padding: 0.35rem;
  }

  .menu-toggle span {
    display: block;
    width: 22px;
    height: 2px;
    margin: 4px 0;
    background: #111827;
    border-radius: 999px;
  }

  /* ========= HERO (Adaptado) ========= */
  .hero {
    padding: 3.5rem 0;
    background: linear-gradient(to right, var(--color-bg-soft), #ffffff);
    text-align: center;
  }

  .hero h1 {
    font-size: 2.3rem;
    color: var(--color-dark);
    margin-bottom: 0.6rem;
  }

  .hero p {
    font-size: 1rem;
    color: var(--color-text-soft);
    max-width: 700px;
    margin: auto;
  }

  /* ========= CALCULATOR LAYOUT (Mantener) ========= */
  .calc-grid {
    display: grid;
    grid-template-columns: minmax(0, 1fr) minmax(0, 0.9fr);
    gap: 1.5rem;
    margin-top: 2rem;
    align-items: start;
  }

  .card {
    border: 1px solid #E5E7EB;
    border-radius: 14px;
    padding: 1.2rem;
    background: #fff;
  }

  .card h2 {
    font-size: 1.2rem;
    color: var(--color-dark);
    margin-bottom: 1rem;
  }

  .field {
    margin-bottom: 1rem;
  }

  label {
    display: block;
    font-size: 0.8rem;
    letter-spacing: 0.06em;
    text-transform: uppercase;
    font-weight: 700;
    color: var(--color-text-soft); /* Usando nueva variable */
    margin-bottom: 0.4rem;
  }

  input, select {
    width: 100%;
    padding: 0.65rem 0.7rem;
    border-radius: 8px;
    border: 1px solid #E5E7EB;
    font-size: 0.95rem;
    outline: none;
  }

  input:focus, select:focus {
    border-color: var(--color-primary);
    box-shadow: 0 0 0 3px rgba(241,90,41,0.12);
  }

  .row-2 {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 0.8rem;
  }

  .btn {
    width: 100%;
    padding: 0.8rem;
    background: var(--color-primary);
    color: #fff;
    font-size: 1rem;
    font-weight: 700;
    border: none;
    border-radius: 10px;
    cursor: pointer;
  }

  .btn:hover { filter: brightness(1.05); }

  /* RESULTS */
  .result-box {
    background: var(--color-bg-soft);
    border-radius: 12px;
    padding: 1rem;
    margin-bottom: 0.8rem;
  }

  .result-title {
    font-size: 0.9rem;
    font-weight: 700;
    color: var(--color-dark);
    margin-bottom: 0.2rem;
  }

  .result-value {
    font-size: 1.3rem;
    font-weight: 800;
    color: var(--color-primary);
  }

  .muted {
    font-size: 0.85rem;
    color: var(--color-text-soft); /* Usando nueva variable */
  }

  /* CTA */
  .cta {
    margin-top: 2rem;
    padding: 1.5rem;
    background: var(--color-bg-soft);
    border-radius: 14px;
    text-align: center;
  }

  .cta h3 {
    margin: 0 0 0.5rem 0;
    color: var(--color-dark);
  }

  .cta a {
    display: inline-block;
    margin-top: 0.6rem;
    background: var(--color-primary);
    color: #fff;
    padding: 0.7rem 1.2rem;
    border-radius: 10px;
    font-weight: 700;
  }

  /* ========= FOOTER (Estilos de index.html) ========= */

  footer {
    padding: 1.3rem 0;
    background: #F9FAFB;
    border-top: 1px solid #E5E7EB;
    font-size: 0.85rem;
    color: #6B7280;
    margin-top: 3rem; /* Espacio superior para separar el contenido */
  }

  .footer-inner {
    display: flex;
    flex-wrap: wrap;
    gap: 0.6rem;
    justify-content: space-between;
    align-items: center;
  }


  /* ========= WHATSAPP FLOTANTE (Estilos de index.html) ========= */

  .whatsapp-float {
    position: fixed;
    right: 18px;
    bottom: 18px;
    z-index: 9999;
    display: flex;
    align-items: center;
    gap: 10px;
    background: #25D366;
    color: #fff;
    padding: 12px 14px;
    border-radius: 999px;
    font-weight: 700;
    font-size: 0.95rem;
    box-shadow: 0 12px 24px rgba(0,0,0,0.18);
    transition: transform 0.2s ease, filter 0.2s ease;
  }

  .whatsapp-float:hover {
    transform: translateY(-2px);
    filter: brightness(1.05);
  }

  .whatsapp-icon {
    width: 22px;
    height: 22px;
    display: inline-block;
  }

  .whatsapp-text {
    white-space: nowrap;
  }

  /* ========= RESPONSIVE (Estilos de index.html) ========= */

  @media (max-width: 900px) {
    .nav {
      padding: 0.7rem 0;
    }

    .nav-links {
      position: absolute;
      top: 100%;
      right: 1.5rem;
      left: 1.5rem;
      background: #ffffff;
      border-radius: 12px;
      box-shadow: 0 12px 25px rgba(0,0,0,0.15);
      padding: 0.75rem 0.9rem;
      
      /* OCULTAMOS POR DEFECTO EN MÓVIL */
      display: none;

      flex-direction: column;
      gap: 0.4rem;
      margin-top: 0.4rem;
    }

    /* ARREGLO CLAVE: Usamos !important para anular cualquier otra regla de display */
    .nav-links.nav-open {
      display: flex !important;
    }

    .menu-toggle {
      display: inline-block;
    }

    .calc-grid {
      grid-template-columns: 1fr;
    }
    
    .footer-inner {
      flex-direction: column;
      align-items: flex-start;
    }
  }

  @media (max-width: 600px) {
    .container {
      padding: 0 1rem;
    }
    .whatsapp-float {
      padding: 12px;
      border-radius: 50%;
    }
    .whatsapp-text {
      display: none;
    }
  }

</style>
</head>

<body>

<a class="whatsapp-float"
   href="https://wa.me/573012882282?text=Hola%20TRICOM%20ENERGY,%20quiero%20asesor%C3%ADa%20para%20un%20sistema%20solar."
   target="_blank"
   rel="noopener">
   
  <svg class="whatsapp-icon" viewBox="0 0 32 32" fill="none" aria-hidden="true">
    <path fill="white" d="M19.11 17.49c-.27-.14-1.6-.79-1.85-.88-.25-.09-.43-.14-.61.14-.18.27-.7.88-.86 1.06-.16.18-.32.2-.59.07-.27-.14-1.15-.42-2.19-1.35-.81-.72-1.36-1.61-1.52-1.88-.16-.27-.02-.41.12-.55.12-.12.27-.32.41-.48.14-.16.18-.27.27-.45.09-.18.05-.34-.02-.48-.07-.14-.61-1.47-.84-2.01-.22-.53-.45-.46-.61-.47h-.52c-.18 0-.48.07-.73.34-.25.27-.95.93-.95 2.27 0 1.34.98 2.64 1.12 2.82.14.18 1.93 2.95 4.68 4.13.65.28 1.15.45 1.54.57.65.21 1.24.18 1.7.11.52-.08 1.6-.65 1.83-1.28.23-.63.23-1.17.16-1.28-.07-.11-.25-.18-.52-.32z"/>
    <path fill="white" d="M26.67 5.33A13.24 13.24 0 0 0 16.01 1C8.83 1 3 6.82 3 13.99c0 2.22.58 4.39 1.68 6.3L3 31l10.9-1.67a12.93 12.93 0 0 0 6.11 1.56h.01c7.18 0 13-5.82 13-12.99 0-3.47-1.35-6.74-3.35-9.57zM20.01 28.6h-.01a10.8 10.8 0 0 1-5.52-1.53l-.39-.23-6.48.99 1.46-6.3-.25-.41a10.89 10.89 0 0 1-1.66-5.83C7.16 8.2 11.71 3.66 17.1 3.66c2.9 0 5.62 1.13 7.67 3.18a10.78 10.78 0 0 1 3.18 7.67c0 5.39-4.55 9.94-9.94 9.94z"/>
  </svg>

  <span class="whatsapp-text">WhatsApp</span>
</a>

<header>
  <div class="container">
    <div class="nav">
      <img src="logo tricom energy.png" alt="TRICOM ENERGY">

      <nav class="nav-links">
        <a href="index.html">Inicio</a>
        <a href="servicios.html">Servicios</a>
        <a href="productos.html">Productos</a>
        <a href="calculadora.html" class="active">Calculadora</a>
        <a href="nosotros.html">Nosotros</a>
        <a href="contacto.html" class="nav-cta">Contáctanos</a>
      </nav>

      <button class="menu-toggle" aria-label="Abrir menú">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
  </div>
</header>

<section class="hero">
  <div class="container">
    <h1>Calculadora Solar TRICOM ENERGY</h1>
    <p>Estima cuántos paneles necesitas, la producción mensual y el ahorro aproximado según tu consumo y ciudad.</p>
  </div>
</section>

<div class="container calc-grid">

  <div class="card">
    <h2>Datos del cliente</h2>

    <div class="field">
      <label for="consumo">Consumo mensual (kWh)</label>
      <input id="consumo" type="number" placeholder="Ej: 950" min="0">
    </div>

    <div class="row-2">
      <div class="field">
        <label for="hsp">Ciudad / HSP</label>
        <input id="hsp" type="number" step="0.1" placeholder="Ej: 5.3" value="5.3">
        <div class="muted">Horas Sol Pico promedio</div>
      </div>

      <div class="field">
        <label for="tarifa">Tarifa energía (COP/kWh)</label>
        <input id="tarifa" type="number" placeholder="Ej: 1000" value="1000" min="0">
      </div>
    </div>

    <div class="row-2">
      <div class="field">
        <label for="wp">Potencia panel (Wp)</label>
        <input id="wp" type="number" placeholder="Ej: 605" value="605" min="0">
      </div>

      <div class="field">
        <label for="perdidas">Pérdidas estimadas (%)</label>
        <input id="perdidas" type="number" placeholder="Ej: 15" value="15" min="0" max="40">
        <div class="muted">Cableado, temperatura, inversor</div>
      </div>
    </div>

    <div class="row-2">
      <div class="field">
        <label for="tipo">Tipo de sistema</label>
        <select id="tipo">
          <option value="on">On Grid (sin batería)</option>
          <option value="off">Off Grid (con batería)</option>
          <option value="hyb">Híbrido</option>
        </select>
      </div>

      <div class="field">
        <label for="cobertura">Cobertura deseada (%)</label>
        <input id="cobertura" type="number" value="100" min="10" max="120">
        <div class="muted">100% = cubrir todo el consumo</div>
      </div>
    </div>

    <button class="btn" onclick="calcular()">Calcular</button>
  </div>

  <div class="card">
    <h2>Resultados estimados</h2>

    <div class="result-box">
      <div class="result-title">Paneles necesarios</div>
      <div id="resPaneles" class="result-value">—</div>
      <div class="muted">Basado en consumo y HSP</div>
    </div>

    <div class="result-box">
      <div class="result-title">Potencia total del sistema</div>
      <div id="resPotencia" class="result-value">—</div>
      <div class="muted">kWp instalados</div>
    </div>

    <div class="result-box">
      <div class="result-title">Producción mensual estimada</div>
      <div id="resProduccion" class="result-value">—</div>
      <div class="muted">kWh/mes</div>
    </div>

    <div class="result-box">
      <div class="result-title">Área aproximada requerida</div>
      <div id="resArea" class="result-value">—</div>
      <div class="muted">m² (≈ 2.2 m² por panel)</div>
    </div>

    <div class="result-box">
      <div class="result-title">Ahorro mensual estimado</div>
      <div id="resAhorro" class="result-value">—</div>
      <div class="muted">COP/mes</div>
    </div>

    <div class="muted" id="notaSistema" style="margin-top:0.6rem;"></div>

    <div class="cta">
      <h3>¿Quieres una propuesta formal?</h3>
      <p class="muted">Con estos datos te enviamos una cotización ajustada a tu proyecto.</p>
      <a href="index.html#formulario">Solicitar oferta</a>
    </div>
  </div>

</div>

<footer>
  <div class="container footer-inner">
    <span>© 2025 TRICOM ENERGY. Todos los derechos reservados.</span>
    <span>Calculadora solar de referencia.</span>
  </div>
</footer>

<script>
// Script de la calculadora (pre-existente)
function calcular() {
  const consumo = parseFloat(document.getElementById("consumo").value || 0);
  const hsp = parseFloat(document.getElementById("hsp").value || 0);
  const wp = parseFloat(document.getElementById("wp").value || 0);
  const tarifa = parseFloat(document.getElementById("tarifa").value || 0);
  const perdidas = parseFloat(document.getElementById("perdidas").value || 0) / 100;
  const cobertura = parseFloat(document.getElementById("cobertura").value || 100) / 100;
  const tipo = document.getElementById("tipo").value;

  if (consumo <= 0 || hsp <= 0 || wp <= 0) {
    alert("Por favor ingresa consumo, HSP y potencia del panel.");
    return;
  }

  // Producción por panel al mes aproximada:
  // wp(kW) * HSP * 30 días * (1 - perdidas)
  const kwPanel = wp / 1000;
  const prodPanelMes = kwPanel * hsp * 30 * (1 - perdidas);

  // Paneles necesarios para cubrir el consumo deseado
  const paneles = Math.ceil((consumo * cobertura) / prodPanelMes);

  // Potencia total
  const potenciaTotal = paneles * kwPanel; // kWp

  // Producción estimada total
  const produccionTotal = prodPanelMes * paneles;

  // Área aproximada
  const area = paneles * 2.2; // m2 promedio por panel

  // Ahorro mensual
  const ahorro = Math.min(produccionTotal, consumo) * tarifa;

  // Mostrar resultados
  document.getElementById("resPaneles").innerText = paneles + " paneles";
  document.getElementById("resPotencia").innerText = potenciaTotal.toFixed(2) + " kWp";
  document.getElementById("resProduccion").innerText = produccionTotal.toFixed(0) + " kWh/mes";
  document.getElementById("resArea").innerText = area.toFixed(1) + " m²";
  document.getElementById("resAhorro").innerText = "$ " + ahorro.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g, ".");

  // Nota según sistema
  let nota = "";
  if (tipo === "on") nota = "Sistema On Grid: conectado a la red eléctrica, ideal si no necesitas baterías.";
  if (tipo === "off") nota = "Sistema Off Grid: independiente de la red, requiere baterías para almacenamiento.";
  if (tipo === "hyb") nota = "Sistema Híbrido: combina red + baterías para respaldo en cortes.";
  document.getElementById("notaSistema").innerText = nota;
}

// Script para el menú hamburguesa (Nuevo)
document.addEventListener("DOMContentLoaded", function () {
  const toggle = document.querySelector(".menu-toggle");
  const nav = document.querySelector(".nav-links");
  if (!toggle || !nav) return;

  toggle.addEventListener("click", function () {
    nav.classList.toggle("nav-open");
  });
});
</script>

</body>
</html>
